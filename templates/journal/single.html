<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600&family=Caveat:wght@400;600;700&family=Kalam:wght@300;400&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 1080px;
            height: 1350px;
            font-family: 'Noto Serif TC', serif;
            overflow: hidden;
            position: relative;
        }

        /* 模糊背景圖 */
        .blur-bg {
            position: absolute;
            inset: 0;
            background-image: url('{{backgroundUrl}}');
            background-size: cover;
            background-position: center;
            filter: blur(50px);
            transform: scale(1.1);
        }

        /* 備用純色背景（無背景圖時） */
        .blur-bg-fallback {
            position: absolute;
            inset: 0;
            background:
                radial-gradient(ellipse at 30% 20%, rgba(255, 220, 180, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 60%, rgba(200, 160, 120, 0.3) 0%, transparent 40%),
                radial-gradient(ellipse at 20% 80%, rgba(180, 140, 100, 0.25) 0%, transparent 45%),
                linear-gradient(180deg, #8b7355 0%, #6b5a47 50%, #4a3f35 100%);
        }

        /* 光斑效果 */
        .light-effects {
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at 25% 30%, rgba(255, 240, 200, 0.15) 0%, transparent 25%),
                radial-gradient(circle at 75% 50%, rgba(255, 235, 190, 0.1) 0%, transparent 30%);
            z-index: 1;
        }

        /* 日記卡片 */
        .journal-card {
            position: absolute;
            top: 40px;
            left: 40px;
            right: 40px;
            bottom: 40px;
            background: linear-gradient(180deg,
                    rgba(253, 248, 240, 0.97) 0%,
                    rgba(249, 240, 227, 0.96) 30%,
                    rgba(245, 233, 216, 0.95) 100%);
            border-radius: 10px;
            box-shadow:
                0 20px 80px rgba(0, 0, 0, 0.25),
                0 5px 20px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            z-index: 10;
        }

        /* 紙張紋理 */
        .journal-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            opacity: 0.04;
            pointer-events: none;
        }

        /* 左邊裝訂線 */
        .binding-line {
            position: absolute;
            left: 65px;
            top: 0;
            bottom: 0;
            width: 5px;
            background: linear-gradient(180deg,
                    transparent 0%,
                    #d4c0a8 5%,
                    #d4c0a8 95%,
                    transparent 100%);
        }

        .binding-line::after {
            content: '';
            position: absolute;
            left: -10px;
            top: 12%;
            bottom: 12%;
            width: 25px;
            background: repeating-linear-gradient(180deg,
                    transparent 0px,
                    transparent 45px,
                    #c4a882 45px,
                    #c4a882 50px);
        }

        /* 手繪橫線背景 */
        .lined-bg {
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(180deg,
                    transparent 0px,
                    transparent 82px,
                    rgba(180, 160, 130, 0.15) 82px,
                    rgba(180, 160, 130, 0.15) 84px);
            top: 190px;
            pointer-events: none;
        }

        /* 內容區域 */
        .content {
            position: absolute;
            inset: 0;
            padding: 55px 55px 50px 110px;
            display: flex;
            flex-direction: column;
        }

        /* 日期區塊 */
        .date-section {
            margin-bottom: 35px;
            display: flex;
            align-items: baseline;
            gap: 30px;
        }

        .date-main {
            font-family: 'Caveat', cursive;
            font-size: 42px;
            color: #8b6f4e;
            letter-spacing: 2px;
            font-weight: 400;
        }

        .date-weekday {
            font-family: 'Caveat', cursive;
            font-size: 72px;
            color: #6b5338;
            font-weight: 700;
        }

        /* 手繪波浪分隔線 */
        .divider {
            width: 100%;
            height: 40px;
            margin-bottom: 30px;
        }

        .divider svg {
            width: 100%;
            height: 100%;
        }

        /* 日記主體 */
        .journal-body {
            flex: 1;
            font-family: 'Kalam', cursive;
            font-size: 40px;
            line-height: 1.75;
            color: #4a3c2e;
            letter-spacing: 0.5px;
            font-weight: 300;
            /* 移除 overflow: hidden 讓文字可以稍微超出 */
        }

        .journal-body p {
            margin-bottom: 15px;
        }

        /* 括號內的註解用不同字體 */
        .journal-body .note {
            font-family: 'Noto Serif TC', serif;
            font-size: 34px;
            color: #6b5a47;
            font-style: italic;
        }

        /* 底部署名 */
        .footer {
            padding-top: 25px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }

        .footer-text {
            font-family: 'Caveat', cursive;
            font-size: 42px;
            color: #a08060;
            letter-spacing: 2px;
        }
    </style>
</head>

<body>
    <!-- 使用純 CSS 漸層背景（不需要背景圖片） -->
    <div class="blur-bg-fallback"></div>
    <div class="light-effects"></div>

    <div class="journal-card">
        <div class="lined-bg"></div>
        <div class="binding-line"></div>

        <div class="content">
            <div class="date-section">
                <span class="date-main">{{date}}</span>
                <span class="date-weekday">{{weekday}}</span>
            </div>

            <div class="divider">
                <svg viewBox="0 0 800 40" preserveAspectRatio="none">
                    <path d="M0,20 Q65,5 130,20 T260,20 T390,20 T520,20 T650,20 T780,20 T800,20" fill="none"
                        stroke="#c4a882" stroke-width="4" stroke-linecap="round" />
                </svg>
            </div>

            <div class="journal-body">
                {{content}}
            </div>

            <div class="footer">
                <span class="footer-text">@Josh_LifeForge</span>
            </div>
        </div>
    </div>
</body>

</html>